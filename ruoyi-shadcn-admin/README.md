# RuoYi ShadCN Admin

基于 Next.js 15 + ShadCN/UI + TypeScript 构建的现代化管理系统前端，采用最新的 React 18 技术栈和组件化设计理念。

## 🚀 项目特色

- **现代化技术栈**: Next.js 15 + React 18 + TypeScript + Tailwind CSS
- **优雅的UI组件**: 基于 ShadCN/UI 构建，提供一致的设计语言
- **完整的管理功能**: 用户管理、角色管理、菜单管理等核心功能
- **系统监控**: 实时监控服务器状态、在线用户、操作日志
- **开发工具**: 代码生成器、系统工具等提升开发效率
- **响应式设计**: 完美适配桌面端和移动端
- **主题切换**: 支持明暗主题切换
- **类型安全**: 完整的 TypeScript 类型定义

## 🔧 最近更新

### v1.4.8 - FastAPI应用配置修复
- 🔧 **FastAPI配置修复**：修复FastAPI应用root_path配置问题，彻底解决Swagger UI加载API定义失败问题
- 🌐 **API文档加载修复**：移除.env.dev和config/env.py中的/dev-api路径前缀配置
- 📚 **文档路径优化**：优化前端API文档路径配置，移除重复的/dev-api前缀
- ✅ **端点验证**：验证/docs、/openapi.json、/redoc端点正常工作，确认OpenAPI JSON的servers配置正确

### v1.4.7 - API路径配置修复
- 🔧 **API路径修复**：修复系统接口页面的API路径配置问题
- 🎯 **端口配置更新**：将API端口从8000更新为正确的9099端口
- 📚 **文档访问优化**：确保Swagger UI和ReDoc能正常加载API文档
- ✅ **功能验证**：验证所有API端点可正常访问

### v1.4.6 - 系统接口功能重构
- **系统接口页面重构**：将系统工具页面改为Swagger API文档展示
- **iframe组件开发**：创建可复用的iframe组件用于嵌入外部文档
- **API文档集成**：集成Swagger UI、ReDoc和OpenAPI JSON多种文档格式
- **用户体验优化**：提供交互式API测试功能和详细使用说明

### v1.4.5 - 日志管理功能全面优化
- **操作日志管理增强**: 
  - 完全重构操作日志界面，采用现代化的表格设计
  - 实现复选框批量选择功能，支持全选和单选操作
  - 添加状态筛选和操作类型筛选，支持精确查询
  - 实现批量删除、导出、清空等批量操作功能
  - 优化操作日志详情展示，提供完整的操作信息
- **登录日志管理完善**: 
  - 重构登录日志界面，提供清晰的用户登录记录展示
  - 实现登录状态筛选功能，支持成功/失败状态查询
  - 添加批量操作功能，支持批量删除和导出
  - 实现登录日志详情对话框，展示详细的登录信息
  - 优化登录地址和IP地址的显示格式
- **查询筛选功能优化**: 
  - 实现统一的搜索框功能，支持多字段模糊查询
  - 添加状态下拉筛选器，支持快速状态过滤
  - 优化筛选逻辑，支持组合条件查询
  - 修复Select组件空值问题，确保筛选功能稳定运行
- **用户体验提升**: 
  - 添加刷新按钮，支持手动刷新日志数据
  - 优化表格行样式，提供清晰的数据展示
  - 实现状态徽章显示，直观展示操作和登录状态
  - 提供完整的操作反馈和确认对话框

### v1.4.4 - 部门管理功能完全实现
- **核心功能实现**: 
  - 完全实现部门新增功能，支持创建多层级部门结构
  - 完全实现部门编辑功能，支持修改部门信息和层级关系
  - 实现完整的表单验证和数据处理逻辑
  - 支持部门层级管理和父子关系配置
- **数据管理优化**: 
  - 实现部门数据的实时更新和状态同步
  - 支持部门树结构的动态维护和展示
  - 添加部门操作的成功反馈和错误处理
  - 优化部门数据的增删改操作性能
- **用户体验提升**: 
  - 提供清晰的操作反馈和状态提示
  - 优化表单提交流程，防止重复操作
  - 改进部门管理界面的交互体验
  - 确保功能的稳定性和可靠性
- **表单功能完善**:
  - 支持部门名称、负责人、联系方式等完整信息管理
  - 实现部门状态管理（正常/停用）
  - 添加部门排序功能，支持自定义显示顺序
  - 提供父级部门选择，支持多层级部门结构

### v1.4.3 - 菜单管理功能完全实现
- **核心功能实现**: 
  - 完全实现菜单新增功能，支持创建目录、菜单、按钮三种类型
  - 完全实现菜单编辑功能，支持修改菜单信息和层级关系
  - 实现完整的表单验证和数据处理逻辑
  - 支持菜单层级管理和父子关系配置
- **数据管理优化**: 
  - 实现菜单数据的实时更新和状态同步
  - 支持菜单树结构的动态维护和展示
  - 添加菜单操作的成功反馈和错误处理
  - 优化菜单数据的增删改操作性能
- **用户体验提升**: 
  - 提供清晰的操作反馈和状态提示
  - 优化表单提交流程，防止重复操作
  - 改进菜单管理界面的交互体验
  - 确保功能的稳定性和可靠性

### v1.4.2 - 菜单管理功能修复与优化
- **核心功能修复**: 
  - 修复菜单类型选择器的值映射问题，解决类型不匹配导致的运行时错误
  - 修复表单中重复字段定义问题，清理冗余的排序和上级菜单字段
  - 修复Fast Refresh运行时错误，确保开发环境的稳定性
  - 优化菜单类型验证逻辑，支持目录、菜单、按钮三种类型的正确处理
- **用户体验优化**: 
  - 改进表单验证提示系统，提供更清晰的错误信息展示
  - 添加表单提交状态管理，防止重复提交和提供加载反馈
  - 优化表单字段布局，提供更好的视觉层次和操作引导
  - 添加字段输入提示和格式说明，提升表单填写体验
- **界面交互改进**: 
  - 优化按钮状态管理，在提交过程中禁用操作按钮
  - 改进错误状态显示，使用红色边框突出显示验证失败的字段
  - 添加字符计数显示，帮助用户了解输入限制
  - 优化对话框按钮布局，提供更直观的操作反馈

### v1.4.1 - 菜单管理功能全面优化
- **菜单管理界面重构**: 
  - 完全重构菜单管理页面，采用现代化的树形结构展示
  - 实现菜单层级的可视化展示，支持展开/收起操作
  - 添加菜单类型图标标识（目录、菜单、按钮）
  - 优化菜单操作按钮布局，提供直观的编辑和删除功能
- **表单验证系统完善**: 
  - 实现完整的表单验证机制，包含菜单名称、路由地址、组件路径等字段验证
  - 添加实时验证反馈，提供清晰的错误提示信息
  - 支持不同菜单类型的条件验证（目录不需要路由，按钮不需要组件）
  - 优化表单用户体验，防止无效数据提交
- **菜单操作功能增强**: 
  - 实现菜单新增功能，支持选择父级菜单和设置菜单层级
  - 实现菜单编辑功能，支持修改菜单信息和调整层级关系
  - 实现菜单删除功能，包含子菜单检查和安全确认
  - 添加菜单状态管理，支持启用/禁用切换
- **树形结构交互优化**: 
  - 实现菜单树的展开/收起功能，支持全部展开和全部收起
  - 添加菜单搜索功能，支持按名称快速定位菜单
  - 优化菜单排序显示，按照设定的排序值进行层级展示
  - 提供清晰的菜单层级视觉指示

### v1.4.0 - 系统管理模块功能完善
- **通知公告功能完善**: 
  - 实现通知公告的完整增删改查功能
  - 支持多种通知类型（信息、警告、成功、错误）
  - 支持通知状态管理（已发布、草稿、已归档）
  - 添加优先级设置和发布时间管理
  - 实现内容编辑和富文本支持
- **日志管理功能优化**: 
  - 完善操作日志查看功能，支持详细信息展示
  - 完善登录日志监控，支持用户行为追踪
  - 添加日志筛选和搜索功能
  - 支持日志导出和清空操作
  - 实现日志分类显示（操作日志、登录日志）
- **服务器监控功能增强**: 
  - 实现实时服务器性能监控
  - 支持CPU、内存、磁盘、网络使用率监控
  - 添加系统信息展示（操作系统、运行时间、进程数）
  - 实现性能指标监控（CPU温度、缓存命中率、I/O等待）
  - 支持数据实时更新和历史趋势展示
- **用户体验提升**: 
  - 统一各模块的操作界面和交互逻辑
  - 优化表单验证和数据处理流程
  - 提供清晰的状态反馈和操作提示
  - 改进响应式设计，适配不同屏幕尺寸

### v1.3.1 - 用户管理功能修复
- **用户编辑功能修复**: 
  - 修复用户编辑时表单不加载用户信息的问题
  - 添加 `useEffect` 监听用户属性变化，确保编辑时正确加载数据
  - 优化表单数据初始化逻辑，支持新增和编辑模式切换
  - 提升用户编辑体验，确保数据准确性和一致性
- **权限配置界面优化**: 
  - 在权限配置卡片中添加分隔线，清晰区分全选区域和具体权限项
  - 优化权限配置的视觉层次，提升用户操作体验
  - 保持设计语言的一致性和界面的美观性

### v1.3.0 - 系统管理功能完善
- **用户管理功能增强**: 
  - 实现完整的用户新增功能，包含表单验证和数据提交
  - 实现用户编辑功能，支持用户信息修改和状态更新
  - 优化用户筛选功能，支持按状态、角色等条件筛选
  - 添加用户操作确认对话框，提升操作安全性
- **角色管理功能完善**: 
  - 实现角色新增功能，支持角色基本信息和权限配置
  - 实现角色编辑功能，支持角色信息修改和权限调整
  - 实现角色权限查看功能，提供详细的权限展示界面
  - 按权限类别分组显示，提升权限管理的可视化效果
- **组件化架构优化**: 
  - 创建可复用的用户表单组件 `UserForm`
  - 创建可复用的角色表单组件 `RoleForm`
  - 创建角色权限查看组件 `RolePermissions`
  - 统一表单验证和数据处理逻辑
- **用户体验提升**: 
  - 添加操作成功/失败的即时反馈
  - 优化表单交互和数据验证
  - 提供清晰的权限展示和管理界面

### v1.2.0 - API配置与后台集成
- **API配置管理**: 
  - 创建环境变量配置文件 `.env.local`
  - 配置后台API地址 `http://0.0.0.0:9099`
  - 统一API请求管理和错误处理
- **API服务架构**: 
  - 创建 `src/lib/api.ts` 统一API配置文件
  - 创建 `src/lib/auth-service.ts` 认证服务模块
  - 支持请求拦截器和响应拦截器
  - 自动token管理和刷新机制
- **组件API集成**: 
  - 更新用户信息组件使用真实API调用
  - 更新头像上传组件支持文件上传API
  - 更新密码修改组件连接后台验证
  - 更新监控日志页面支持实时数据获取
- **开发体验优化**: 
  - 添加loading状态和错误处理
  - 支持API调用失败时的降级处理
  - 提供完整的TypeScript类型定义

### v1.1.0 - 布局优化与问题修复
- **布局结构优化**: 
  - 修改个人中心和设置页面路由结构
  - 现在个人中心和设置页面在主布局的内容区显示
  - 保持统一的侧边栏导航和顶部导航
- **组件依赖修复**: 
  - 安装并配置缺失的 `radio-group` 组件
  - 安装并配置缺失的 `switch` 组件
  - 解决构建错误，确保所有功能正常运行
- **用户体验提升**: 
  - 点击用户下拉菜单中的"个人中心"和"设置"链接
  - 页面在右侧内容区域显示，保持导航结构一致性
  - 提供更好的页面导航体验

## 📦 功能模块

### 用户认证
- **登录验证**: 用户名密码登录、记住我功能
- **动态验证码**: 
  - Canvas 绘制的图形验证码
  - 随机字符生成（数字+字母）
  - 干扰线和噪点防机器识别
  - 点击刷新验证码功能
  - 不区分大小写验证
- **会话管理**: 登录状态保持、自动登出

### 个人中心
- **用户信息展示**: 头像、用户名、邮箱、手机号、角色等基本信息
- **基本资料编辑**: 
  - 用户名、邮箱、手机号等信息修改
  - 表单验证和数据校验
  - 实时保存和反馈
- **头像管理**: 
  - 头像上传和预览
  - 支持图片格式验证
  - 文件大小限制
- **密码修改**: 
  - 旧密码验证
  - 新密码强度检查
  - 密码确认验证
  - 密码显示/隐藏切换

### 系统设置
- **主题设置**: 
  - 明暗主题切换（浅色、深色、跟随系统）
  - 多种主题色彩选择（蓝色、绿色、紫色等）
  - 实时预览和应用
- **布局设置**: 
  - 侧边栏显示/隐藏配置
  - 导航栏固定设置
  - 页面布局选项
  - 其他界面元素配置
- **通知设置**: 
  - 通知类型开关（系统通知、邮件通知等）
  - 安全和营销通知配置
  - 通知偏好设置
  - 测试通知功能

### 系统管理
- **用户管理**: 
  - 用户信息维护（新增、编辑、删除、状态切换）
  - 高级筛选功能（按状态、角色、部门等条件筛选）
  - 用户权限分配和角色管理
  - 批量操作和数据导入导出
- **角色管理**: 
  - 角色创建和编辑（基本信息、描述、状态管理）
  - 详细权限配置（菜单权限、操作权限、数据权限）
  - 权限可视化展示（按模块分组显示权限）
  - 角色分配和权限继承
- **菜单管理**: 
  - 菜单结构管理（目录、菜单、按钮类型）
  - 菜单层级关系维护和排序
  - 菜单图标配置和权限控制
  - 菜单状态管理和显示控制
- **部门管理**: 组织架构管理、层级关系维护
- **岗位管理**: 岗位信息管理、职责定义
- **字典管理**: 系统字典维护、数据标准化
- **参数设置**: 系统参数配置、运行时设置
- **通知公告**: 
  - 系统公告发布和消息通知
  - 多种通知类型（信息、警告、成功、错误）
  - 通知状态管理（已发布、草稿、已归档）
  - 优先级设置和发布时间管理
- **日志管理**: 
  - 操作日志查看和详细信息展示
  - 登录日志监控和用户行为追踪
  - 日志分类显示和筛选搜索
  - 日志导出和清空操作

### 系统监控
- **在线用户**: 实时在线用户监控、会话管理
- **服务器监控**: 
  - 实时CPU、内存、磁盘、网络使用率监控
  - 系统信息展示（操作系统、运行时间、进程数）
  - 性能指标监控（CPU温度、缓存命中率、I/O等待）
  - 数据实时更新和历史趋势展示
- **操作日志**: 用户操作记录、系统行为追踪

### 系统工具
- **代码生成器**: 
  - 数据库表结构分析
  - 自动生成 Entity、Mapper、Service、Controller 代码
  - 支持多种代码模板和配置选项
  - 代码预览和批量下载功能
- **系统工具**:
  - 系统信息监控（CPU、内存、磁盘、运行时间）
  - 数据备份管理（增量备份、完整备份）
  - 系统维护工具（缓存清理、系统优化）
  - 系统日志查看和管理

## 🛠️ 技术栈

- **框架**: Next.js 15 (App Router)
- **语言**: TypeScript
- **UI库**: ShadCN/UI + Radix UI
- **样式**: Tailwind CSS
- **状态管理**: React Context + Hooks
- **图标**: Lucide React
- **通知**: Sonner
- **主题**: next-themes
- **构建工具**: Turbopack
- **代码规范**: ESLint + Prettier

## 🚀 快速开始

### 环境要求

- Node.js 18.17 或更高版本
- npm、yarn、pnpm 或 bun

### 安装依赖

```bash
npm install
# 或
yarn install
# 或
pnpm install
# 或
bun install
```

### 环境配置

创建 `.env.local` 文件并配置后台API地址：

```bash
# 后台API基础地址
NEXT_PUBLIC_API_BASE_URL=http://0.0.0.0:9099

# API请求超时时间（毫秒）
NEXT_PUBLIC_API_TIMEOUT=10000

# 是否开启API调试模式
NEXT_PUBLIC_API_DEBUG=true

# 运行环境
NODE_ENV=development
```

**注意**: 
- `NEXT_PUBLIC_` 前缀的环境变量会暴露给客户端
- 请根据实际后台服务地址修改 `NEXT_PUBLIC_API_BASE_URL`
- 生产环境请将 `NEXT_PUBLIC_API_DEBUG` 设置为 `false`

### 启动开发服务器

```bash
npm run dev
# 或
yarn dev
# 或
pnpm dev
# 或
bun dev
```

打开 [http://localhost:3000](http://localhost:3000) 查看应用。

### 构建生产版本

```bash
npm run build
npm start
```

## 📁 项目结构

```
src/
├── app/                    # Next.js App Router 页面
│   ├── login/             # 登录页面
│   ├── profile/           # 个人中心页面
│   ├── settings/          # 系统设置页面
│   ├── monitor/           # 系统监控模块
│   │   ├── logs/         # 操作日志
│   │   ├── online/       # 在线用户
│   │   └── server/       # 服务器监控
│   ├── system/            # 系统管理模块
│   │   ├── dept/         # 部门管理
│   │   ├── dict/         # 字典管理
│   │   ├── log/          # 日志管理
│   │   ├── menu/         # 菜单管理
│   │   ├── notice/       # 通知公告
│   │   ├── post/         # 岗位管理
│   │   ├── role/         # 角色管理
│   │   └── user/         # 用户管理
│   └── tools/             # 系统工具模块
│       ├── generator/    # 代码生成器
│       └── system/       # 系统工具
├── components/            # 可复用组件
│   ├── dashboard/        # 仪表板组件
│   ├── profile/          # 个人中心组件
│   │   ├── user-info.tsx      # 用户信息编辑
│   │   ├── user-avatar.tsx    # 头像上传
│   │   └── reset-password.tsx # 密码修改
│   ├── settings/         # 设置页面组件
│   │   ├── theme-settings.tsx       # 主题设置
│   │   ├── layout-settings.tsx      # 布局设置
│   │   └── notification-settings.tsx # 通知设置
│   ├── ui/              # ShadCN/UI 组件
│   ├── app-layout.tsx   # 主布局组件
│   ├── auth-guard.tsx   # 路由守卫
│   └── theme-provider.tsx # 主题提供者
├── contexts/             # React Context
│   └── auth-context.tsx # 认证上下文
├── lib/                 # 工具库
│   ├── api.ts          # API配置和请求管理
│   ├── auth-service.ts # 认证服务模块
│   └── utils.ts        # 通用工具函数
└── styles/             # 样式文件
    └── globals.css     # 全局样式
```

## 🎨 UI 组件

项目使用 ShadCN/UI 组件库，提供了丰富的现代化组件：

- **数据展示**: Table、Card、Badge、Progress
- **表单组件**: Input、Select、Textarea、Button
- **导航组件**: Sidebar、Breadcrumb、Tabs
- **反馈组件**: Alert、Dialog、Toast
- **布局组件**: Separator、Collapsible

## 🔧 开发指南

### 添加新页面

1. 在 `src/app` 目录下创建新的路由文件夹
2. 创建 `page.tsx` 文件
3. 在 `src/components/app-layout.tsx` 中添加导航菜单

### 添加新组件

1. 在 `src/components` 目录下创建组件文件
2. 使用 TypeScript 定义组件接口
3. 遵循项目的代码规范和设计模式

### 使用 ShadCN/UI 组件

```bash
# 添加新的 UI 组件
npx shadcn@latest add [component-name]
```

## 📝 开发规范

- 使用 TypeScript 进行类型安全开发
- 遵循 ESLint 代码规范
- 组件采用函数式组件 + Hooks
- 使用 Tailwind CSS 进行样式开发
- 保持组件的单一职责原则

## 🤝 贡献指南

1. Fork 本仓库
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🔗 相关链接

- [Next.js 文档](https://nextjs.org/docs)
- [ShadCN/UI 文档](https://ui.shadcn.com)
- [Tailwind CSS 文档](https://tailwindcss.com/docs)
- [TypeScript 文档](https://www.typescriptlang.org/docs)

## 📞 联系方式

如有问题或建议，请通过以下方式联系：

- GitHub Issues: [提交问题](https://github.com/fq393/ruoyi-shadcn-admin/issues)
- 项目地址: [https://github.com/fq393](https://github.com/fq393)
